on: workflow_dispatch

jobs:
  # firebase_deploy_android:
  #   name: Deploy Android APP to firebase
  #   runs-on: ubuntu-latest
  #   steps:
  #     - uses: actions/checkout@v2
  #     - uses: ruby/setup-ruby@v1
  #       with:
  #         ruby-version: 2.6
  #     - name: Install bundle
  #       run: |
  #         cd android/fastlane
  #         bundle config path vendor/bundle
  #         bundle install --jobs 4 --retry 3
  #     - name: Distribute app with ðŸ”¥ App Distribution ðŸš€
  #       run: |
  #         cd android/fastlane
  #         bundle exec fastlane profile_firebase_distribution DEV_FIREBASE_APP_ID:${{ secrets.DEV_FIREBASE_APP_ID }}
  firebase_deploy_ios:
    name: Deploy iOS APP to firebase
    runs-on: macOS-latest
    steps:
      - uses: actions/checkout@v2
      - uses: ruby/setup-ruby@v1
        with:
          ruby-version: 2.6
      - name: Install bundle
        run: |
          cd android/fastlane
          bundle config path vendor/bundle
          bundle install --jobs 4 --retry 3
      - name: Distribute app with ðŸ”¥ App Distribution ðŸš€
        run: |
          cd ios/fastlane
          bundle exec fastlane profile_firebase_distribution DEV_FIREBASE_APP_ID:123:123:123
